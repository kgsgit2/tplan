<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TPlan PC v2 - Enhanced UX</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Performance Monitor -->
    <div id="perfMonitor" class="perf-monitor">
        <span class="fps">60 FPS</span>
        <span class="latency">0ms</span>
    </div>

    <!-- Main Container -->
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="trip-info">
                    <input type="text" class="trip-title" value="도쿄 여행" placeholder="여행 제목">
                    <div class="date-range">
                        <input type="date" class="start-date" value="2025-01-15">
                        <span class="date-separator">→</span>
                        <input type="date" class="end-date" value="2025-01-21">
                        <span class="total-days">7일</span>
                    </div>
                </div>
                <div class="view-controls">
                    <button class="view-btn active" data-view="edit">편집</button>
                    <button class="view-btn" data-view="compress">압축</button>
                    <button class="view-btn" data-view="print">인쇄</button>
                </div>
            </div>
        </header>

        <!-- Main Layout -->
        <div class="main-layout">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-header">
                    <h3>플랜박스 보관함</h3>
                    <button class="add-plan-btn" id="addPlanBtn">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 4V16M4 10H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        새 플랜
                    </button>
                </div>

                <!-- Category Filter -->
                <div class="category-filter">
                    <button class="filter-btn active" data-category="all">전체</button>
                    <button class="filter-btn" data-category="food">식사</button>
                    <button class="filter-btn" data-category="tour">관광</button>
                    <button class="filter-btn" data-category="shopping">쇼핑</button>
                    <button class="filter-btn" data-category="hotel">숙소</button>
                    <button class="filter-btn" data-category="transport">이동</button>
                </div>

                <!-- Plan Boxes -->
                <div class="planbox-list" id="planboxList">
                    <!-- Dynamic content -->
                </div>

                <!-- Transport Box -->
                <div class="transport-section">
                    <h4>이동 추가</h4>
                    <div class="transport-box draggable" draggable="true" data-type="transport">
                        <div class="transport-icon">🚗</div>
                        <span>이동 박스</span>
                    </div>
                </div>
            </aside>

            <!-- Timeline Container -->
            <div class="timeline-container">
                <!-- Day Tabs -->
                <div class="day-tabs">
                    <!-- Dynamic tabs -->
                </div>

                <!-- Timeline Grid -->
                <div class="timeline-wrapper">
                    <div class="timeline-grid">
                        <!-- Time Labels -->
                        <div class="time-labels">
                            <!-- Dynamic time labels -->
                        </div>

                        <!-- Day Columns -->
                        <div class="day-columns">
                            <!-- Dynamic day columns -->
                        </div>

                        <!-- Drop Indicator -->
                        <div class="drop-indicator" id="dropIndicator"></div>
                    </div>
                </div>

                <!-- Floating Time Badge -->
                <div class="time-badge" id="timeBadge"></div>

                <!-- Conflict Alert -->
                <div class="conflict-alert" id="conflictAlert">
                    <span class="alert-icon">⚠️</span>
                    <span class="alert-message"></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Plan Box Modal -->
    <div class="modal" id="planBoxModal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>플랜박스 편집</h2>
                <button class="modal-close" id="modalClose">×</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>장소명 *</label>
                    <input type="text" id="placeNameInput" placeholder="장소명을 입력하세요">
                </div>

                <div class="form-group">
                    <label>카테고리</label>
                    <div class="category-select">
                        <button class="category-option" data-category="food">🍜 식사</button>
                        <button class="category-option" data-category="tour">🏛️ 관광</button>
                        <button class="category-option" data-category="shopping">🛍️ 쇼핑</button>
                        <button class="category-option" data-category="hotel">🏨 숙소</button>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>시작 시간</label>
                        <div class="time-input">
                            <input type="number" id="startHour" min="0" max="23" placeholder="시">
                            <span>:</span>
                            <input type="number" id="startMinute" min="0" max="59" step="15" placeholder="분">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>소요 시간</label>
                        <div class="time-input">
                            <input type="number" id="durationHour" min="0" max="24" placeholder="시간">
                            <span>:</span>
                            <input type="number" id="durationMinute" min="0" max="59" step="15" placeholder="분">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>비용</label>
                    <input type="text" id="costInput" placeholder="예: 5,000원">
                </div>

                <div class="form-group">
                    <label>메모</label>
                    <textarea id="memoInput" rows="3" placeholder="메모를 입력하세요"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="modalCancel">취소</button>
                <button class="btn btn-primary" id="modalSave">저장</button>
            </div>
        </div>
    </div>

    <!-- Transport Modal -->
    <div class="modal" id="transportModal">
        <div class="modal-overlay"></div>
        <div class="modal-content transport-modal">
            <div class="modal-header">
                <h2>이동 정보</h2>
                <button class="modal-close" id="transportClose">×</button>
            </div>
            <div class="modal-body">
                <div class="transport-mode-select">
                    <button class="mode-btn active" data-mode="car">🚗 자동차</button>
                    <button class="mode-btn" data-mode="public">🚇 대중교통</button>
                    <button class="mode-btn" data-mode="walk">🚶 도보</button>
                </div>

                <div class="form-group">
                    <label>출발지</label>
                    <input type="text" id="transportOrigin" placeholder="자동으로 계산됨" readonly>
                </div>

                <div class="form-group">
                    <label>도착지</label>
                    <input type="text" id="transportDestination" placeholder="자동으로 계산됨" readonly>
                </div>

                <div class="transport-info">
                    <div class="info-item">
                        <span class="info-label">예상 거리</span>
                        <span class="info-value" id="transportDistance">2.5 km</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">예상 시간</span>
                        <span class="info-value" id="transportDuration">15분</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="transportCancel">취소</button>
                <button class="btn btn-primary" id="transportSave">확인</button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
        <span>처리 중...</span>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <span class="toast-message"></span>
    </div>

    <!-- Scripts -->
    <script src="app.js"></script>
</body>
</html>